{# SPDX-FileCopyrightText: 2026 JWP Consulting GK #}
{# SPDX-License-Identifier: AGPL-3.0-or-later #}
{% load projectify %}
<label for="{{ widget.attrs.id }}"
       class="contents group justify-between flex flex-1 p-1 items-center gap-2 text-regular min-w-0 cursor-pointer hover:bg-background">
    <div class="min-w-0 flex gap-2 items-center p-2 group-hover:bg-background">
        <input type="{{ widget.type }}"
               name="{{ widget.name }}"
               value="{{ widget.value }}"
               class="cursor-pointer"
               {% include "django/forms/widgets/attrs.html" %}>
        {% if widget.value.instance %}
            {% user_avatar widget.value.instance %}
        {% else %}
            {% user_avatar None %}
        {% endif %}
        <span class="truncate">{{ widget.label }}</span>
    </div>
    <div class="h-full flex items-center group-hover:bg-background px-1">
        {% if widget.value.instance %}
            <div class="h-fit shrink-0 rounded-2.5xl bg-background px-2 py-0.5 w-full text-right text-primary cursor-pointer group-hover:bg-foreground">
                {{ widget.value.instance.task_count }}
            </div>
        {% endif %}
    </div>
</label>
