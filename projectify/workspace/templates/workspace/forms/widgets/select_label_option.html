{# SPDX-FileCopyrightText: 2026 JWP Consulting GK #}
{# SPDX-License-Identifier: AGPL-3.0-or-later #}
<label class="contents group justify-between flex flex-1 p-1 items-center gap-2 text-regular min-w-0 cursor-pointer hover:bg-background">
    <div class="flex items-center min-w-0 gap-2 px-2 py-0.5 group-hover:bg-background">
        <input type="{{ widget.type }}"
               name="{{ widget.name }}"
               value="{{ widget.value }}"
               class="cursor-pointer"
               {% include "django/forms/widgets/attrs.html" %}>
        {% if widget.label.name %}
            <div class="shrink overflow-x-hidden flex items-center cursor-pointer group rounded-2.5xl px-3 py-1 font-bold {{ widget.label.bg_class }} {{ widget.label.text_class }}"
                 for="{{ widget.attrs.id }}">
                <span class="truncate">{{ widget.label.name }}</span>
            </div>
        {% else %}
            <div class="shrink overflow-x-hidden flex items-center cursor-pointer group rounded-2.5xl px-3 py-1 font-bold{% if widget.value.instance %} {{ widget.value.instance.bg_class }} {{ widget.value.instance.text_class }}{% else %} bg-background{% endif %}"
                 for="{{ widget.attrs.id }}">
                <span class="truncate">{{ widget.label }}</span>
            </div>
        {% endif %}
    </div>
    <div class="h-full flex items-center group-hover:bg-background px-1">
        {% if widget.value.instance %}
            <div class="h-fit shrink-0 rounded-2.5xl bg-background px-2 py-0.5 w-full text-right text-primary cursor-pointer group-hover:bg-foreground">
                {{ widget.value.instance.task_count }}
            </div>
        {% endif %}
    </div>
</label>
